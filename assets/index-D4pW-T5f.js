(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();document.querySelector("#spinner");const L=document.querySelector("#email"),b=document.querySelector("#asunto"),E=document.querySelector("#mensaje"),h=document.querySelector("#cc"),l=document.querySelector("#formulario"),i=document.querySelector("#formulario button[type=submit]"),v=document.querySelector("#formulario button[type=reset]"),s={email:"",asunto:"",mensaje:"",cc:""};function x(){L.addEventListener("blur",a),b.addEventListener("blur",a),E.addEventListener("blur",a),h.addEventListener("blur",a),v.addEventListener("click",function(e){e.preventDefault(),y()}),l.addEventListener("submit",w)}function w(e){e.preventDefault(),spinner.classList.add("flex"),spinner.classList.remove("hidden"),setTimeout(()=>{spinner.classList.add("hidden"),spinner.classList.remove("flex"),y(),l.appendChild(g("Email was sent correctly.","success")),setTimeout(()=>{l.lastChild.remove()},3e3)},3e3)}function a(e){const t=e.target.parentElement;if(e.target.id!=="cc"&&e.target.value===""){m(`El campo ${e.target.id} es obligatorio.`,t),s[e.target.name]="",c();return}if(e.target.id==="email"&&!f(e.target.value)||e.target.id==="cc"&&e.target.value.length>=1&&!f(e.target.value)){m(`El email ${e.target.value} no es valido.`,t),s[e.target.name]="",c();return}p(t),s[e.target.name]=e.target.value.trim().toLowerCase(),c()}function m(e,t){p(t),t.appendChild(g(e,"error"))}function p(e){const t=e.querySelector(".bg-red-600");t&&t.remove()}function g(e,t){const o=document.createElement("P");return t==="error"?o.classList.add("text-2xl","rounded-lg","p-2","bg-red-600","text-center","text-white"):o.classList.add("justify-center","bg-green-500","rounded-lg","p-2","flex","text-white","text-sm","uppercase","mt-10","font-bold"),o.textContent=e,o}function f(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}function c(){if(Object.values(s).includes("")){i.classList.add("opacity-50"),i.disabled=!0;return}i.classList.remove("opacity-50"),i.disabled=!1}function y(){s.email="",s.asunto="",s.mensaje="",l.reset(),c()}document.addEventListener("DOMContentLoaded",()=>{x()});
